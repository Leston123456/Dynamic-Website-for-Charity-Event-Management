<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details - Charity Event Management System</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/event-details.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span>Charity Events</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="/" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="/search" class="nav-link">Search Events</a>
                </li>
                <li class="nav-item">
                    <a href="/#about" class="nav-link">About Us</a>
                </li>
                <li class="nav-item">
                    <a href="/#contact" class="nav-link">Contact</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Back Navigation -->
    <div class="back-navigation">
        <div class="container">
            <button class="back-btn" onclick="goBack()">
                <span class="back-symbol">‚Üê</span>
                Back
            </button>
            <div class="breadcrumb">
                <a href="/">Home</a>
                <span class="separator">/</span>
                <a href="/search">Search Events</a>
                <span class="separator">/</span>
                <span id="breadcrumb-event-name">Event Details</span>
            </div>
        </div>
    </div>

    <!-- Event Details Main Content -->
    <main class="event-details-main">
        <div class="container">
            <!-- Loading State -->
            <div class="loading-container" id="loading-container">
                <div class="loading">
                    <span class="loading-spinner">‚ü≥</span>
                    <span>Loading event details...</span>
                </div>
            </div>

            <!-- Error State -->
            <div class="error-container" id="error-container" style="display: none;">
                <div class="error-content">
                    <span class="error-icon">‚ö†</span>
                    <h2>Loading Failed</h2>
                    <p id="error-message">Failed to load event details, please try again later</p>
                    <div class="error-actions">
                        <button class="btn btn-primary" onclick="retryLoad()">Reload</button>
                        <a href="/" class="btn btn-secondary">Back to Home</a>
                    </div>
                </div>
            </div>

            <!-- Event Details Content -->
            <div class="event-details-content" id="event-details-content" style="display: none;">
                <!-- Event Header -->
                <header class="event-header">
                    <div class="event-hero">
                        <div class="event-image">
                            <div class="event-image-placeholder">
                                <span class="event-icon">‚ô•</span>
                            </div>
                            <div class="event-badges">
                                <span class="event-status" id="event-status-badge"></span>
                                <span class="event-featured" id="event-featured-badge" style="display: none;">Featured Event</span>
                            </div>
                        </div>
                        <div class="event-info">
                            <div class="event-category" id="event-category"></div>
                            <h1 class="event-title" id="event-title"></h1>
                            <div class="event-organization">
                                <span class="org-symbol">üë•</span>
                                <span id="event-organization"></span>
                            </div>
                            <div class="event-meta">
                                <div class="meta-item">
                                    <span class="meta-symbol">üìÖ</span>
                                    <span id="event-date"></span>
                                </div>
                                <div class="meta-item">
                                    <span class="meta-symbol">üìç</span>
                                    <span id="event-location"></span>
                                </div>
                                <div class="meta-item">
                                    <span class="meta-symbol">üé´</span>
                                    <span id="event-price"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Event Content -->
                <div class="event-content">
                    <div class="content-grid">
                        <!-- Main Content -->
                        <div class="main-content">
                            <!-- Event Description -->
                            <section class="content-section">
                                <h2>
                                    <span class="section-symbol">‚Ñπ</span>
                                    Event Details
                                </h2>
                                <div class="event-description" id="event-description"></div>
                            </section>

                            <!-- Event Address -->
                            <section class="content-section" id="event-address-section">
                                <h2>
                                    <span class="section-symbol">üó∫</span>
                                    Event Address
                                </h2>
                                <div class="address-info">
                                    <p id="event-address"></p>
                                    <button class="btn btn-outline" onclick="openMap()">
                                        <span class="btn-symbol">‚Üó</span>
                                        View on Map
                                    </button>
                                </div>
                            </section>

                            <!-- Organization Info -->
                            <section class="content-section">
                                <h2>
                                    <span class="section-symbol">üè¢</span>
                                    Organizer Information
                                </h2>
                                <div class="organization-info" id="organization-info">
                                    <!-- Organization info will be loaded dynamically -->
                                </div>
                            </section>
                        </div>

                        <!-- Sidebar -->
                        <div class="sidebar">
                            <!-- Fundraising Progress -->
                            <div class="sidebar-card">
                                <h3>
                                    <span class="card-symbol">üìà</span>
                                    Fundraising Progress
                                </h3>
                                <div class="progress-details">
                                    <div class="progress-stats">
                                        <div class="stat">
                                            <span class="stat-value" id="current-amount"></span>
                                            <span class="stat-label">Raised</span>
                                        </div>
                                        <div class="stat">
                                            <span class="stat-value" id="goal-amount"></span>
                                            <span class="stat-label">Goal Amount</span>
                                        </div>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="progress-fill"></div>
                                        </div>
                                        <span class="progress-percentage" id="progress-percentage"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Participation Info -->
                            <div class="sidebar-card" id="participation-card">
                                <h3>
                                    <span class="card-symbol">üë•</span>
                                    Participation Info
                                </h3>
                                <div class="participation-info">
                                    <div class="participation-stats">
                                        <div class="stat">
                                            <span class="stat-value" id="current-participants"></span>
                                            <span class="stat-label">Participants</span>
                                        </div>
                                        <div class="stat" id="max-participants-stat">
                                            <span class="stat-value" id="max-participants"></span>
                                            <span class="stat-label">Max Capacity</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Important Times -->
                            <div class="sidebar-card">
                                <h3>
                                    <span class="card-symbol">‚è∞</span>
                                    Important Times
                                </h3>
                                <div class="time-info">
                                    <div class="time-item">
                                        <span class="time-label">Event Start</span>
                                        <span class="time-value" id="start-time"></span>
                                    </div>
                                    <div class="time-item" id="end-time-item">
                                        <span class="time-label">Event End</span>
                                        <span class="time-value" id="end-time"></span>
                                    </div>
                                    <div class="time-item" id="deadline-item">
                                        <span class="time-label">Registration Deadline</span>
                                        <span class="time-value" id="registration-deadline"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Registration Button -->
                            <div class="sidebar-card">
                                <h3>
                                    <span class="card-symbol">‚ô•</span>
                                    Join Event
                                </h3>
                                <div class="registration-section">
                                    <div class="price-display">
                                        <span class="price-label">Participation Fee</span>
                                        <span class="price-value" id="participation-price"></span>
                                    </div>
                                    <button class="btn btn-primary btn-register" id="register-btn">
                                        <span class="btn-symbol">‚ô•</span>
                                        Join Now
                                    </button>
                                    <p class="registration-note">
                                        <span class="note-symbol">‚Ñπ</span>
                                        By clicking join, you agree to the terms and conditions
                                    </p>
                                </div>
                            </div>

                            <!-- Share Function -->
                            <div class="sidebar-card">
                                <h3>
                                    <span class="card-symbol">üì§</span>
                                    Share Event
                                </h3>
                                <div class="share-buttons">
                                    <button class="share-btn" onclick="shareEvent('facebook')" title="Share on Facebook">
                                        <span>F</span>
                                    </button>
                                    <button class="share-btn" onclick="shareEvent('twitter')" title="Share on Twitter">
                                        <span>T</span>
                                    </button>
                                    <button class="share-btn" onclick="shareEvent('linkedin')" title="Share on LinkedIn">
                                        <span>L</span>
                                    </button>
                                    <button class="share-btn" onclick="copyLink()" title="Copy Link">
                                        <span>üîó</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Related Events -->
    <section class="related-events" id="related-events" style="display: none;">
        <div class="container">
            <h2>Related Events</h2>
            <div class="related-events-grid" id="related-events-grid">
                <!-- Related events will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Registration Modal -->
    <div class="modal" id="registration-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Event Registration</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-icon">
                    <span class="modal-symbol">üöß</span>
                </div>
                <h4>Feature Under Development</h4>
                <p>Event registration feature is under development, please stay tuned!</p>
                <p>If you have any questions, please contact our customer service team.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                <a href="/#contact" class="btn btn-primary">Contact Us</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <span>Charity Events</span>
                    </div>
                    <p>Spreading love, lighting hope. Every act of kindness can create miracles.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/search">Search Events</a></li>
                        <li><a href="/#about">About Us</a></li>
                        <li><a href="/#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <div class="social-links">
                        <a href="#" class="social-link">F</a>
                        <a href="#" class="social-link">T</a>
                        <a href="#" class="social-link">I</a>
                        <a href="#" class="social-link">L</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Charity Event Management System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="/js/common.js"></script>
    <script src="/js/event-details.js"></script>
</body>
</html>